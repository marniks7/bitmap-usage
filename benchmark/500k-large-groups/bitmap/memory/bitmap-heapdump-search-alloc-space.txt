File: bitmap.test
Type: alloc_space
Time: Feb 7, 2022 at 2:59pm (EST)
Showing nodes accounting for 10.81GB, 95.83% of 11.28GB total
Dropped 138 nodes (cum <= 0.06GB)
      flat  flat%   sum%        cum   cum%
    3.20GB 28.33% 28.33%     3.20GB 28.33%  github.com/RoaringBitmap/roaring.newArrayContainerSize /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:940 (inline)
    2.58GB 22.86% 51.19%     2.58GB 22.86%  github.com/RoaringBitmap/roaring.newArrayContainerCapacity /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:934 (inline)
    0.81GB  7.18% 58.36%     0.81GB  7.18%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).appendVertex /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:84 (inline)
    0.81GB  7.15% 65.51%     0.81GB  7.15%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).appendVertex /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:83 (inline)
    0.65GB  5.74% 71.26%     0.65GB  5.74%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:185
    0.48GB  4.26% 75.52%     0.48GB  4.26%  github.com/wcharczuk/go-chart/v2/drawing.NewLineStroker /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:8 (inline)
    0.35GB  3.10% 78.63%     0.35GB  3.10%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:274
    0.27GB  2.37% 81.00%     0.75GB  6.64%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:264
    0.22GB  1.93% 82.93%     0.22GB  1.93%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:180
    0.17GB  1.52% 84.44%     0.17GB  1.52%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildGraph /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:66
    0.16GB  1.44% 85.89%     0.16GB  1.44%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildGraph /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:65
    0.13GB  1.14% 87.03%     0.13GB  1.14%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:13
    0.13GB  1.14% 88.17%     0.13GB  1.14%  github.com/google/uuid.UUID.String /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/uuid.go:188 (inline)
    0.13GB  1.12% 89.28%     0.13GB  1.12%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:197
    0.12GB  1.06% 90.35%     0.12GB  1.06%  github.com/RoaringBitmap/roaring.NewBitmap /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:130 (inline)
    0.12GB  1.03% 91.38%     0.12GB  1.03%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditions /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:73
    0.11GB  0.99% 92.37%     0.11GB  0.99%  strings.(*Builder).grow /home/malerome/go/go176/src/strings/builder.go:68 (inline)
    0.11GB  0.96% 93.33%     0.11GB  0.96%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditions /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:71
    0.08GB  0.71% 94.04%     1.70GB 15.04%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:276
    0.08GB  0.69% 94.72%     0.10GB  0.91%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:50
    0.06GB  0.56% 95.29%     0.06GB  0.56%  github.com/RoaringBitmap/roaring.(*arrayContainer).iaddReturnMinimized /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:261
    0.06GB  0.55% 95.83%     0.06GB  0.55%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:36
         0     0% 95.83%     0.26GB  2.30%  bitmap-usage/benchmark.ReadMemStatsFuncWithGC /home/malerome/IdeaProjects/bitmap-usage3/benchmark/utils.go:98
         0     0% 95.83%     0.19GB  1.65%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:24
         0     0% 95.83%     0.19GB  1.65%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats.func1 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:25
         0     0% 95.83%     0.18GB  1.59%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:72
         0     0% 95.83%     0.06GB  0.51%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:79
         0     0% 95.83%     0.31GB  2.74%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:88
         0     0% 95.83%     0.36GB  3.21%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:50
         0     0% 95.83%     1.76GB 15.58%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:63
         0     0% 95.83%     0.33GB  2.96%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_OptStr_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:83
         0     0% 95.83%     2.49GB 22.04%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_OptStr_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:98
         0     0% 95.83%     0.27GB  2.43%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPrice_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:17
         0     0% 95.83%     1.70GB 15.06%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPrice_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:30
         0     0% 95.83%     0.27GB  2.41%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:14
         0     0% 95.83%     0.44GB  3.89%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:18
         0     0% 95.83%     0.41GB  3.64%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:19
         0     0% 95.83%     0.39GB  3.50%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:20
         0     0% 95.83%     2.01GB 17.84%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:21
         0     0% 95.83%     0.33GB  2.93%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:28
         0     0% 95.83%     2.83GB 25.13%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:33
         0     0% 95.83%     0.09GB  0.78%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:42
         0     0% 95.83%     2.01GB 17.80%  bitmap-usage/benchmark/500k-large-groups/bitmap.findPrice3824Position /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-benchmark_test.go:150
         0     0% 95.83%     4.24GB 37.62%  bitmap-usage/benchmark/500k-large-groups/bitmap.findPrice3824PositionV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-v2-benchmark_test.go:97
         0     0% 95.83%     0.40GB  3.52%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexT /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:47
         0     0% 95.83%     0.11GB  1.00%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexT /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:52
         0     0% 95.83%     0.40GB  3.55%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:36
         0     0% 95.83%     0.18GB  1.63%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:40
         0     0% 95.83%     0.11GB  0.99%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:41
         0     0% 95.83%     1.16GB 10.30%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:178
         0     0% 95.83%     0.17GB  1.51%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:186
         0     0% 95.83%     1.16GB 10.30%  bitmap-usage/benchmark/500k-large-groups/sample.GenerateTestData5Chars5Offerings /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:163
         0     0% 95.83%     1.95GB 17.25%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:91
         0     0% 95.83%     1.75GB 15.49%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:66
         0     0% 95.83%     2.32GB 20.60%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:69
         0     0% 95.83%     0.06GB  0.53%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:85
         0     0% 95.83%     0.07GB  0.63%  github.com/RoaringBitmap/roaring.(*Bitmap).Add /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:577
         0     0% 95.83%     2.32GB 20.60%  github.com/RoaringBitmap/roaring.(*Bitmap).And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:731
         0     0% 95.83%     0.29GB  2.61%  github.com/RoaringBitmap/roaring.(*bitmapContainer).and /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:709
         0     0% 95.83%     3.22GB 28.55%  github.com/RoaringBitmap/roaring.(*bitmapContainer).and /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:711
         0     0% 95.83%     0.29GB  2.61%  github.com/RoaringBitmap/roaring.(*bitmapContainer).andArray /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:772
         0     0% 95.83%     3.22GB 28.55%  github.com/RoaringBitmap/roaring.(*bitmapContainer).andBitmap /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:821
         0     0% 95.83%     2.31GB 20.50%  github.com/RoaringBitmap/roaring.(*runContainer16).andArray /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1892
         0     0% 95.83%     2.29GB 20.31%  github.com/RoaringBitmap/roaring.(*runContainer16).iand /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1867
         0     0% 95.83%     0.12GB  1.06%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1109
         0     0% 95.83%     3.53GB 31.32%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1121
         0     0% 95.83%     0.17GB  1.51%  github.com/google/uuid.NewString /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:22
         0     0% 95.83%     2.88GB 25.50%  github.com/wcharczuk/go-chart/v2.(*rasterRenderer).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/raster_renderer.go:119
         0     0% 95.83%     2.91GB 25.75%  github.com/wcharczuk/go-chart/v2.Chart.Render /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/chart.go:140
         0     0% 95.83%     2.91GB 25.75%  github.com/wcharczuk/go-chart/v2.Chart.drawSeries /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/chart.go:490
         0     0% 95.83%     2.91GB 25.75%  github.com/wcharczuk/go-chart/v2.ContinuousSeries.Render /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/continuous_series.go:79
         0     0% 95.83%     2.91GB 25.75%  github.com/wcharczuk/go-chart/v2.draw.LineSeries /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/draw.go:82
         0     0% 95.83%     1.62GB 14.33%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).LineTo /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:34
         0     0% 95.83%     1.62GB 14.33%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).line /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:47
         0     0% 95.83%     1.62GB 14.33%  github.com/wcharczuk/go-chart/v2/drawing.DemuxFlattener.LineTo /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/demux_flattener.go:18
         0     0% 95.83%     1.62GB 14.33%  github.com/wcharczuk/go-chart/v2/drawing.Flatten /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/flattener.go:47
         0     0% 95.83%     1.62GB 14.33%  github.com/wcharczuk/go-chart/v2/drawing.TraceQuad /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/curve.go:149
         0     0% 95.83%     0.11GB  0.99%  strings.(*Builder).Grow /home/malerome/go/go176/src/strings/builder.go:82 (inline)
         0     0% 95.83%     0.11GB  0.99%  strings.ToLower /home/malerome/go/go176/src/strings/strings.go:596
         0     0% 95.83%    11.27GB 99.88%  testing.tRunner /home/malerome/go/go176/src/testing/testing.go:1259
