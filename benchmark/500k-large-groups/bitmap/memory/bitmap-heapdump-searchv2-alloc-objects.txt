File: bitmap.test
Type: alloc_objects
Time: Feb 7, 2022 at 2:59pm (EST)
Showing nodes accounting for 100928765, 99.42% of 101519397 total
Dropped 134 nodes (cum <= 507596)
      flat  flat%   sum%        cum   cum%
  11690804 11.52% 11.52%   11690804 11.52%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).appendVertex /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:83 (inline)
  11449143 11.28% 22.79%   11449143 11.28%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).appendVertex /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:84 (inline)
   9830548  9.68% 32.48%    9830548  9.68%  strings.(*Builder).grow /home/malerome/go/go176/src/strings/builder.go:68 (inline)
   7962978  7.84% 40.32%    7962978  7.84%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:274
   7438608  7.33% 47.65%   11473659 11.30%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:264
   6684781  6.58% 54.23%    9240723  9.10%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:50
   4035051  3.97% 58.21%    4035051  3.97%  github.com/wcharczuk/go-chart/v2/drawing.NewLineStroker /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:8 (inline)
   3801115  3.74% 61.95%    3801115  3.74%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:258
   3604534  3.55% 65.50%    3604534  3.55%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:262
   3582714  3.53% 69.03%   26722661 26.32%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:276
   3467116  3.42% 72.45%    3467116  3.42%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:180
   3423944  3.37% 75.82%    3423944  3.37%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:185
   3397102  3.35% 79.17%    3397102  3.35%  github.com/google/uuid.UUID.String /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/uuid.go:188 (inline)
   3309616  3.26% 82.43%    3309616  3.26%  github.com/google/uuid.NewRandomFromReader /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:48
   1958007  1.93% 84.35%    1958007  1.93%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditions /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:73
   1900571  1.87% 86.23%    1900571  1.87%  github.com/wcharczuk/go-chart/v2.(*rasterRenderer).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/raster_renderer.go:115
   1710618  1.69% 87.91%    1710618  1.69%  github.com/RoaringBitmap/roaring.NewBitmap /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:130 (inline)
   1605656  1.58% 89.49%    1605656  1.58%  github.com/RoaringBitmap/roaring.(*roaringArray).appendContainer /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaringarray.go:123 (inline)
   1359954  1.34% 90.83%    1359954  1.34%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditionsAndClear /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:64
   1310748  1.29% 92.12%    1310748  1.29%  github.com/RoaringBitmap/roaring.newArrayContainerCapacity /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:933 (inline)
   1194958  1.18% 93.30%    1194958  1.18%  github.com/RoaringBitmap/roaring.newArrayContainerCapacity /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:934 (inline)
   1126536  1.11% 94.41%    1126536  1.11%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:13
   1114135  1.10% 95.51%    1114135  1.10%  github.com/RoaringBitmap/roaring.newArrayContainerSize /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:939 (inline)
   1043511  1.03% 96.54%    1043511  1.03%  github.com/RoaringBitmap/roaring.newArrayContainerSize /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:940 (inline)
   1004908  0.99% 97.53%    1004908  0.99%  github.com/RoaringBitmap/roaring.(*runContainer16).intersect /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:623
    786442  0.77% 98.30%     786442  0.77%  github.com/RoaringBitmap/roaring.(*roaringArray).appendContainer /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaringarray.go:122 (inline)
    589833  0.58% 98.88%     589833  0.58%  github.com/RoaringBitmap/roaring.(*roaringArray).appendContainer /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaringarray.go:124 (inline)
    544834  0.54% 99.42%     544834  0.54%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:36
         0     0% 99.42%    2215982  2.18%  bitmap-usage/benchmark.ReadMemStatsFuncWithGC /home/malerome/IdeaProjects/bitmap-usage3/benchmark/utils.go:98
         0     0% 99.42%    1826456  1.80%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:24
         0     0% 99.42%    1826456  1.80%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats.func1 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:25
         0     0% 99.42%    1734690  1.71%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:72
         0     0% 99.42%     516128  0.51%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:79
         0     0% 99.42%     649640  0.64%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:88
         0     0% 99.42%    2084260  2.05%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_SearchV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:122
         0     0% 99.42%    4178602  4.12%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_SearchV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:126
         0     0% 99.42%    7612661  7.50%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:50
         0     0% 99.42%    3974975  3.92%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:63
         0     0% 99.42%    6803578  6.70%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_OptStr_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:83
         0     0% 99.42%    7569910  7.46%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_OptStr_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:98
         0     0% 99.42%    2474851  2.44%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPrice_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:17
         0     0% 99.42%    2839928  2.80%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPrice_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:30
         0     0% 99.42%    2424367  2.39%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:14
         0     0% 99.42%    7615565  7.50%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:18
         0     0% 99.42%    7291405  7.18%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:19
         0     0% 99.42%    6332836  6.24%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:20
         0     0% 99.42%   34230970 33.72%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:21
         0     0% 99.42%   53937312 53.13%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:33
         0     0% 99.42%    1529265  1.51%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:42
         0     0% 99.42%    3489568  3.44%  bitmap-usage/benchmark/500k-large-groups/bitmap.findPrice3824Position /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-benchmark_test.go:150
         0     0% 99.42%   12016071 11.84%  bitmap-usage/benchmark/500k-large-groups/bitmap.findPrice3824PositionV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-v2-benchmark_test.go:97
         0     0% 99.42%    3895418  3.84%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexT /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:47
         0     0% 99.42%     991294  0.98%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexT /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:52
         0     0% 99.42%    4057065  4.00%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:36
         0     0% 99.42%    9392457  9.25%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:40
         0     0% 99.42%     966717  0.95%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:41
         0     0% 99.42%   13597889 13.39%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:178
         0     0% 99.42%    6706718  6.61%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:186
         0     0% 99.42%   13597889 13.39%  bitmap-usage/benchmark/500k-large-groups/sample.GenerateTestData5Chars5Offerings /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:163
         0     0% 99.42%    2944734  2.90%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:91
         0     0% 99.42%    2981933  2.94%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:54
         0     0% 99.42%    5154479  5.08%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:66
         0     0% 99.42%    2753123  2.71%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:69
         0     0% 99.42%    4323895  4.26%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:85
         0     0% 99.42%    2981933  2.94%  bitmap-usage/index-roaring.(*Holder).findBitmapByCharValue /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:119
         0     0% 99.42%    2753123  2.71%  github.com/RoaringBitmap/roaring.(*Bitmap).And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:731
         0     0% 99.42%    1135978  1.12%  github.com/RoaringBitmap/roaring.(*arrayContainer).iand /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:567
         0     0% 99.42%    2157646  2.13%  github.com/RoaringBitmap/roaring.(*bitmapContainer).and /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:711
         0     0% 99.42%    2157646  2.13%  github.com/RoaringBitmap/roaring.(*bitmapContainer).andBitmap /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:821
         0     0% 99.42%     972135  0.96%  github.com/RoaringBitmap/roaring.(*runContainer16).and /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1803
         0     0% 99.42%    2228823  2.20%  github.com/RoaringBitmap/roaring.(*runContainer16).andArray /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1892
         0     0% 99.42%     524300  0.52%  github.com/RoaringBitmap/roaring.(*runContainer16).iand /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1865
         0     0% 99.42%    1092845  1.08%  github.com/RoaringBitmap/roaring.(*runContainer16).iand /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1867
         0     0% 99.42%     524300  0.52%  github.com/RoaringBitmap/roaring.(*runContainer16).inplaceIntersect /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1875 (inline)
         0     0% 99.42%    1710618  1.69%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1109
         0     0% 99.42%    3406664  3.36%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1121
         0     0% 99.42%    2981931  2.94%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1124
         0     0% 99.42%    3309616  3.26%  github.com/google/uuid.NewRandom /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:41
         0     0% 99.42%    6706718  6.61%  github.com/google/uuid.NewString /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:22
         0     0% 99.42%   53564947 52.76%  github.com/wcharczuk/go-chart/v2.(*rasterRenderer).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/raster_renderer.go:119
         0     0% 99.42%   55465518 54.64%  github.com/wcharczuk/go-chart/v2.Chart.Render /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/chart.go:140
         0     0% 99.42%   55465518 54.64%  github.com/wcharczuk/go-chart/v2.Chart.drawSeries /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/chart.go:490
         0     0% 99.42%   55465518 54.64%  github.com/wcharczuk/go-chart/v2.ContinuousSeries.Render /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/continuous_series.go:79
         0     0% 99.42%   55465518 54.64%  github.com/wcharczuk/go-chart/v2.draw.LineSeries /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/draw.go:82
         0     0% 99.42%   23139947 22.79%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).LineTo /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:34
         0     0% 99.42%   23139947 22.79%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).line /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:47
         0     0% 99.42%   23139947 22.79%  github.com/wcharczuk/go-chart/v2/drawing.DemuxFlattener.LineTo /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/demux_flattener.go:18
         0     0% 99.42%   23139947 22.79%  github.com/wcharczuk/go-chart/v2/drawing.Flatten /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/flattener.go:47
         0     0% 99.42%   23139947 22.79%  github.com/wcharczuk/go-chart/v2/drawing.TraceQuad /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/curve.go:149
         0     0% 99.42%    9830548  9.68%  strings.(*Builder).Grow /home/malerome/go/go176/src/strings/builder.go:82 (inline)
         0     0% 99.42%    9830548  9.68%  strings.ToLower /home/malerome/go/go176/src/strings/strings.go:596
         0     0% 99.42%  101497049   100%  testing.tRunner /home/malerome/go/go176/src/testing/testing.go:1259
