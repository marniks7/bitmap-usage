File: bitmap.test
Type: alloc_space
Time: Sep 20, 2021 at 10:41pm (EDT)
Showing nodes accounting for 1388.65MB, 98.81% of 1405.32MB total
Dropped 496 nodes (cum <= 7.03MB)
      flat  flat%   sum%        cum   cum%
  463.87MB 33.01% 33.01%   463.87MB 33.01%  github.com/RoaringBitmap/roaring.newArrayContainerCapacity /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:934 (inline)
  334.53MB 23.80% 56.81%   334.53MB 23.80%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:185
  111.51MB  7.93% 64.75%   111.51MB  7.93%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:180
   89.21MB  6.35% 71.10%    89.21MB  6.35%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditionsAndClear /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:64
   82.88MB  5.90% 76.99%    82.88MB  5.90%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditionsAndClear /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:62
   66.91MB  4.76% 81.75%    66.91MB  4.76%  github.com/google/uuid.UUID.String /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/uuid.go:188 (inline)
   65.81MB  4.68% 86.44%    65.81MB  4.68%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:197
   40.89MB  2.91% 89.35%    55.76MB  3.97%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:50
   37.17MB  2.64% 91.99%    37.17MB  2.64%  strings.(*Builder).grow /home/malerome/go/go164/src/strings/builder.go:68 (inline)
   31.41MB  2.24% 94.23%    31.41MB  2.24%  github.com/RoaringBitmap/roaring.(*arrayContainer).iaddReturnMinimized /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:261
   22.30MB  1.59% 95.81%    22.30MB  1.59%  github.com/google/uuid.NewRandomFromReader /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:48
   14.88MB  1.06% 96.87%    14.88MB  1.06%  bitmap-usage/index-roaring.(*BitmapIndexService).IndexPrices /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexer.go:20
   12.21MB  0.87% 97.74%    12.21MB  0.87%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:36
    7.65MB  0.54% 98.28%     7.65MB  0.54%  github.com/RoaringBitmap/roaring.NewBitmap /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:130 (inline)
    7.44MB  0.53% 98.81%     7.44MB  0.53%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:56
         0     0% 98.81%   277.60MB 19.75%  bitmap-usage/benchmark.ReadMemStatsFuncWithGC /home/malerome/IdeaProjects/bitmap-usage3/benchmark/utils.go:98
         0     0% 98.81%   200.37MB 14.26%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:24
         0     0% 98.81%    19.90MB  1.42%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:32
         0     0% 98.81%    57.37MB  4.08%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:38
         0     0% 98.81%   200.36MB 14.26%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats.func1 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:25
         0     0% 98.81%    19.88MB  1.41%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats.func2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:33
         0     0% 98.81%    57.36MB  4.08%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats.func3 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:39
         0     0% 98.81%   200.36MB 14.26%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:73
         0     0% 98.81%    19.88MB  1.41%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:77
         0     0% 98.81%    57.36MB  4.08%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:80
         0     0% 98.81%   489.04MB 34.80%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:89
         0     0% 98.81%   200.36MB 14.26%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_SearchV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:123
         0     0% 98.81%    98.23MB  6.99%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_SearchV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:127
         0     0% 98.81%    57.36MB  4.08%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_SearchV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:129
         0     0% 98.81%   489.04MB 34.80%  bitmap-usage/benchmark/500k-large-groups/bitmap.findPrice3824Position /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-benchmark_test.go:150
         0     0% 98.81%   601.06MB 42.77%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:178
         0     0% 98.81%    89.21MB  6.35%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:186
         0     0% 98.81%   601.06MB 42.77%  bitmap-usage/benchmark/500k-large-groups/sample.GenerateTestData5Chars5Offerings /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:163
         0     0% 98.81%   476.84MB 33.93%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:91
         0     0% 98.81%    16.98MB  1.21%  bitmap-usage/index-roaring.(*BitmapIndexService).IndexPrices /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexer.go:18
         0     0% 98.81%    30.78MB  2.19%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:85
         0     0% 98.81%    12.71MB   0.9%  bitmap-usage/index-roaring.(*Holder).addToBitmap /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:124
         0     0% 98.81%    16.95MB  1.21%  bitmap-usage/index-roaring.conditionBitmaps /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexer.go:82
         0     0% 98.81%    37.45MB  2.66%  github.com/RoaringBitmap/roaring.(*Bitmap).Add /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:577
         0     0% 98.81%   466.16MB 33.17%  github.com/RoaringBitmap/roaring.(*bitmapContainer).and /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:709
         0     0% 98.81%   466.16MB 33.17%  github.com/RoaringBitmap/roaring.(*bitmapContainer).andArray /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:772
         0     0% 98.81%     7.63MB  0.54%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1109
         0     0% 98.81%   466.16MB 33.17%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1121
         0     0% 98.81%    22.30MB  1.59%  github.com/google/uuid.NewRandom /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:41
         0     0% 98.81%    89.21MB  6.35%  github.com/google/uuid.NewString /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:22
         0     0% 98.81%    37.17MB  2.64%  strings.(*Builder).Grow /home/malerome/go/go164/src/strings/builder.go:82 (inline)
         0     0% 98.81%    37.17MB  2.64%  strings.ToLower /home/malerome/go/go164/src/strings/strings.go:596
         0     0% 98.81%  1404.10MB 99.91%  testing.tRunner /home/malerome/go/go164/src/testing/testing.go:1193
