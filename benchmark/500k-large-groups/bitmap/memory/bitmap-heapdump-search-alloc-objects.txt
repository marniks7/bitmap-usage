File: bitmap.test
Type: alloc_objects
Time: Feb 7, 2022 at 2:59pm (EST)
Showing nodes accounting for 94043122, 99.91% of 94131076 total
Dropped 128 nodes (cum <= 470655)
      flat  flat%   sum%        cum   cum%
  11690804 12.42% 12.42%   11690804 12.42%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).appendVertex /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:83 (inline)
  11449143 12.16% 24.58%   11449143 12.16%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).appendVertex /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:84 (inline)
   7962978  8.46% 33.04%    7962978  8.46%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:274
   7471217  7.94% 40.98%    7471217  7.94%  strings.(*Builder).grow /home/malerome/go/go176/src/strings/builder.go:68 (inline)
   7438608  7.90% 48.88%   11473659 12.19%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:264
   4773284  5.07% 53.95%    6444477  6.85%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:50
   4035051  4.29% 58.24%    4035051  4.29%  github.com/wcharczuk/go-chart/v2/drawing.NewLineStroker /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:8 (inline)
   3801115  4.04% 62.28%    3801115  4.04%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:258
   3604534  3.83% 66.11%    3604534  3.83%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:262
   3582714  3.81% 69.91%   26722661 28.39%  github.com/wcharczuk/go-chart/v2/drawing.(*RasterGraphicContext).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/raster_graphic_context.go:276
   2923126  3.11% 73.02%    2923126  3.11%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:180
   2899536  3.08% 76.10%    2899536  3.08%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:185
   2872790  3.05% 79.15%    2872790  3.05%  github.com/google/uuid.UUID.String /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/uuid.go:188 (inline)
   2818089  2.99% 82.14%    2818089  2.99%  github.com/google/uuid.NewRandomFromReader /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:48
   1958007  2.08% 84.22%    1958007  2.08%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditions /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:73
   1900571  2.02% 86.24%    1900571  2.02%  github.com/wcharczuk/go-chart/v2.(*rasterRenderer).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/raster_renderer.go:115
   1612307  1.71% 87.96%    1612307  1.71%  github.com/RoaringBitmap/roaring.NewBitmap /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:130 (inline)
   1441814  1.53% 89.49%    1441814  1.53%  github.com/RoaringBitmap/roaring.(*roaringArray).appendContainer /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaringarray.go:123 (inline)
   1267057  1.35% 90.83%    1267057  1.35%  github.com/RoaringBitmap/roaring.newArrayContainerCapacity /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:933 (inline)
   1157165  1.23% 92.06%    1157165  1.23%  github.com/RoaringBitmap/roaring.newArrayContainerCapacity /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:934 (inline)
   1092290  1.16% 93.22%    1092290  1.16%  github.com/RoaringBitmap/roaring.newArrayContainerSize /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:939 (inline)
   1081475  1.15% 94.37%    1081475  1.15%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:13
   1004908  1.07% 95.44%    1004908  1.07%  github.com/RoaringBitmap/roaring.(*runContainer16).intersect /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:623
    993132  1.06% 96.49%     993132  1.06%  github.com/RoaringBitmap/roaring.newArrayContainerSize /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:940 (inline)
    892982  0.95% 97.44%     892982  0.95%  bitmap-usage/cache.(*CatalogService).GeneratePricesByConditionsAndClear /home/malerome/IdeaProjects/bitmap-usage3/cache/price-cache.go:64
    720906  0.77% 98.21%     720906  0.77%  github.com/RoaringBitmap/roaring.(*roaringArray).appendContainer /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaringarray.go:122 (inline)
    589833  0.63% 98.84%     589833  0.63%  github.com/RoaringBitmap/roaring.(*roaringArray).appendContainer /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaringarray.go:124 (inline)
    516159  0.55% 99.38%     516159  0.55%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:36
    491527  0.52% 99.91%     491527  0.52%  github.com/RoaringBitmap/roaring.(*runContainer16).intersect /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:671
         0     0% 99.91%    2215982  2.35%  bitmap-usage/benchmark.ReadMemStatsFuncWithGC /home/malerome/IdeaProjects/bitmap-usage3/benchmark/utils.go:98
         0     0% 99.91%    1826456  1.94%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:24
         0     0% 99.91%    1826456  1.94%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats.func1 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:25
         0     0% 99.91%    1734690  1.84%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:72
         0     0% 99.91%     516128  0.55%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestBitmapMemoryStats_Search /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-memory_test.go:79
         0     0% 99.91%    7612661  8.09%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:50
         0     0% 99.91%    3974975  4.22%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:63
         0     0% 99.91%    6803578  7.23%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_OptStr_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:83
         0     0% 99.91%    7569910  8.04%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPriceV2_3824position_OptStr_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:98
         0     0% 99.91%    2474851  2.63%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPrice_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:17
         0     0% 99.91%    2839928  3.02%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestFindPrice_3824position_CpuProfiling /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-cpu-profiling_test.go:30
         0     0% 99.91%    2424367  2.58%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:14
         0     0% 99.91%    7615565  8.09%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:18
         0     0% 99.91%    7291405  7.75%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:19
         0     0% 99.91%    6332836  6.73%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:20
         0     0% 99.91%   34230970 36.37%  bitmap-usage/benchmark/500k-large-groups/bitmap.TestGenerateTestData_BuildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:21
         0     0% 99.91%   53937312 57.30%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:33
         0     0% 99.91%    1529265  1.62%  bitmap-usage/benchmark/500k-large-groups/bitmap.buildChart /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-charts_test.go:42
         0     0% 99.91%    3307316  3.51%  bitmap-usage/benchmark/500k-large-groups/bitmap.findPrice3824Position /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-benchmark_test.go:150
         0     0% 99.91%   11544885 12.26%  bitmap-usage/benchmark/500k-large-groups/bitmap.findPrice3824PositionV2 /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-v2-benchmark_test.go:97
         0     0% 99.91%    3895418  4.14%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexT /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:47
         0     0% 99.91%     991294  1.05%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexT /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:52
         0     0% 99.91%    4057065  4.31%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:36
         0     0% 99.91%    9392457  9.98%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:40
         0     0% 99.91%     966717  1.03%  bitmap-usage/benchmark/500k-large-groups/bitmap.prepareBitmapIndexV2T /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/bitmap/bitmap-helper_test.go:41
         0     0% 99.91%   11513629 12.23%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:178
         0     0% 99.91%    5690879  6.05%  bitmap-usage/benchmark/500k-large-groups/sample.(*Holder).generatePrice /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:186
         0     0% 99.91%   11513629 12.23%  bitmap-usage/benchmark/500k-large-groups/sample.GenerateTestData5Chars5Offerings /home/malerome/IdeaProjects/bitmap-usage3/benchmark/500k-large-groups/sample/test-data.go:163
         0     0% 99.91%    2791157  2.97%  bitmap-usage/index-roaring.(*BitmapIndexService).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/search.go:91
         0     0% 99.91%    2883628  3.06%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:54
         0     0% 99.91%    4826659  5.13%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:66
         0     0% 99.91%    2753123  2.92%  bitmap-usage/index-roaring.(*Holder).FindPriceIndexBy /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:69
         0     0% 99.91%    2942037  3.13%  bitmap-usage/index-roaring.(*Holder).IndexPricesV2 /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/indexerv2.go:85
         0     0% 99.91%    2883628  3.06%  bitmap-usage/index-roaring.(*Holder).findBitmapByCharValue /home/malerome/IdeaProjects/bitmap-usage3/index-roaring/searchv2.go:119
         0     0% 99.91%    2753123  2.92%  github.com/RoaringBitmap/roaring.(*Bitmap).And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:731
         0     0% 99.91%    1135978  1.21%  github.com/RoaringBitmap/roaring.(*arrayContainer).iand /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/arraycontainer.go:567
         0     0% 99.91%    2085422  2.22%  github.com/RoaringBitmap/roaring.(*bitmapContainer).and /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:711
         0     0% 99.91%    2085422  2.22%  github.com/RoaringBitmap/roaring.(*bitmapContainer).andBitmap /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/bitmapcontainer.go:821
         0     0% 99.91%     972135  1.03%  github.com/RoaringBitmap/roaring.(*runContainer16).and /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1803
         0     0% 99.91%    2228823  2.37%  github.com/RoaringBitmap/roaring.(*runContainer16).andArray /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1892
         0     0% 99.91%     524300  0.56%  github.com/RoaringBitmap/roaring.(*runContainer16).iand /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1865
         0     0% 99.91%    1092845  1.16%  github.com/RoaringBitmap/roaring.(*runContainer16).iand /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1867
         0     0% 99.91%     524300  0.56%  github.com/RoaringBitmap/roaring.(*runContainer16).inplaceIntersect /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/runcontainer.go:1875 (inline)
         0     0% 99.91%    1612307  1.71%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1109
         0     0% 99.91%    3252956  3.46%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1121
         0     0% 99.91%    2752553  2.92%  github.com/RoaringBitmap/roaring.And /home/malerome/go/bin/pkg/mod/github.com/!roaring!bitmap/roaring@v0.9.4/roaring.go:1124
         0     0% 99.91%    2818089  2.99%  github.com/google/uuid.NewRandom /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:41
         0     0% 99.91%    5690879  6.05%  github.com/google/uuid.NewString /home/malerome/go/bin/pkg/mod/github.com/google/uuid@v1.3.0/version4.go:22
         0     0% 99.91%   53564947 56.90%  github.com/wcharczuk/go-chart/v2.(*rasterRenderer).FillStroke /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/raster_renderer.go:119
         0     0% 99.91%   55465518 58.92%  github.com/wcharczuk/go-chart/v2.Chart.Render /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/chart.go:140
         0     0% 99.91%   55465518 58.92%  github.com/wcharczuk/go-chart/v2.Chart.drawSeries /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/chart.go:490
         0     0% 99.91%   55465518 58.92%  github.com/wcharczuk/go-chart/v2.ContinuousSeries.Render /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/continuous_series.go:79
         0     0% 99.91%   55465518 58.92%  github.com/wcharczuk/go-chart/v2.draw.LineSeries /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/draw.go:82
         0     0% 99.91%   23139947 24.58%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).LineTo /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:34
         0     0% 99.91%   23139947 24.58%  github.com/wcharczuk/go-chart/v2/drawing.(*LineStroker).line /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/stroker.go:47
         0     0% 99.91%   23139947 24.58%  github.com/wcharczuk/go-chart/v2/drawing.DemuxFlattener.LineTo /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/demux_flattener.go:18
         0     0% 99.91%   23139947 24.58%  github.com/wcharczuk/go-chart/v2/drawing.Flatten /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/flattener.go:47
         0     0% 99.91%   23139947 24.58%  github.com/wcharczuk/go-chart/v2/drawing.TraceQuad /home/malerome/go/bin/pkg/mod/github.com/wcharczuk/go-chart/v2@v2.1.0/drawing/curve.go:149
         0     0% 99.91%    7471217  7.94%  strings.(*Builder).Grow /home/malerome/go/go176/src/strings/builder.go:82 (inline)
         0     0% 99.91%    7471217  7.94%  strings.ToLower /home/malerome/go/go176/src/strings/strings.go:596
         0     0% 99.91%   94108733   100%  testing.tRunner /home/malerome/go/go176/src/testing/testing.go:1259
